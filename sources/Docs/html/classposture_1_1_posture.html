<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>IMUGraph: posture.Posture Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_uv_dox.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">IMUGraph
   </div>
   <div id="projectbrief">Adquisition with IMUs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classposture_1_1_posture.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classposture_1_1_posture-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">posture.Posture Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classposture_1_1_posture.html" title="Posture estimation based on accelerometer used as a compensated tilt sensor. ">Posture</a> estimation based on accelerometer used as a compensated tilt sensor.  
 <a href="classposture_1_1_posture.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a83e447c26b71e109493860eb3157c409"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83e447c26b71e109493860eb3157c409"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#a83e447c26b71e109493860eb3157c409">__init__</a></td></tr>
<tr class="memdesc:a83e447c26b71e109493860eb3157c409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:a83e447c26b71e109493860eb3157c409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf778c81f563ea4eae7a46227085fb2b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#aaf778c81f563ea4eae7a46227085fb2b">offset</a></td></tr>
<tr class="memdesc:aaf778c81f563ea4eae7a46227085fb2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determinates the offset in the accelerometer.  <a href="#aaf778c81f563ea4eae7a46227085fb2b">More...</a><br/></td></tr>
<tr class="separator:aaf778c81f563ea4eae7a46227085fb2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf817d25ff93679ced24d2786e0944e2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#aaf817d25ff93679ced24d2786e0944e2">compensatedTilt</a></td></tr>
<tr class="memdesc:aaf817d25ff93679ced24d2786e0944e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compesated tilt.  <a href="#aaf817d25ff93679ced24d2786e0944e2">More...</a><br/></td></tr>
<tr class="separator:aaf817d25ff93679ced24d2786e0944e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6548993924c0cbea896f6448d24491b8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#a6548993924c0cbea896f6448d24491b8">normalize</a></td></tr>
<tr class="memdesc:a6548993924c0cbea896f6448d24491b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes de values of the gravity.  <a href="#a6548993924c0cbea896f6448d24491b8">More...</a><br/></td></tr>
<tr class="separator:a6548993924c0cbea896f6448d24491b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301e34481371c95c06434f89b2a6ad39"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#a301e34481371c95c06434f89b2a6ad39">mean</a></td></tr>
<tr class="memdesc:a301e34481371c95c06434f89b2a6ad39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Average of a list of values.  <a href="#a301e34481371c95c06434f89b2a6ad39">More...</a><br/></td></tr>
<tr class="separator:a301e34481371c95c06434f89b2a6ad39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bc6d06a96d33b488094a295a4c3f4c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#ad9bc6d06a96d33b488094a295a4c3f4c">resetBuffers</a></td></tr>
<tr class="memdesc:ad9bc6d06a96d33b488094a295a4c3f4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean buffers.  <a href="#ad9bc6d06a96d33b488094a295a4c3f4c">More...</a><br/></td></tr>
<tr class="separator:ad9bc6d06a96d33b488094a295a4c3f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c17334701e824d29ede0fd6a8baa78"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classposture_1_1_posture.html#ae8c17334701e824d29ede0fd6a8baa78">getTilt</a></td></tr>
<tr class="memdesc:ae8c17334701e824d29ede0fd6a8baa78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the tilt values.  <a href="#ae8c17334701e824d29ede0fd6a8baa78">More...</a><br/></td></tr>
<tr class="separator:ae8c17334701e824d29ede0fd6a8baa78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8007dea4830a05937eeed93a734e5f91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8007dea4830a05937eeed93a734e5f91"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>g</b></td></tr>
<tr class="separator:a8007dea4830a05937eeed93a734e5f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedef5377473c2e20d16c88440e514763"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedef5377473c2e20d16c88440e514763"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>angle_frontal</b></td></tr>
<tr class="separator:aedef5377473c2e20d16c88440e514763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145e040bf762b3169e8157665b31e3f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a145e040bf762b3169e8157665b31e3f0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>angle_lateral</b></td></tr>
<tr class="separator:a145e040bf762b3169e8157665b31e3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd37b491d8194f255c0017dcd32b6a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdd37b491d8194f255c0017dcd32b6a6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>X</b></td></tr>
<tr class="separator:abdd37b491d8194f255c0017dcd32b6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267afdbb1a17dba6c619d3ac2d7a9892"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a267afdbb1a17dba6c619d3ac2d7a9892"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Y</b></td></tr>
<tr class="separator:a267afdbb1a17dba6c619d3ac2d7a9892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa251677d3dcf44e8c7c37007bcbb29d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa251677d3dcf44e8c7c37007bcbb29d8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Z</b></td></tr>
<tr class="separator:aa251677d3dcf44e8c7c37007bcbb29d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8c705a4aac70c0f0de40cdb9bb816516"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c705a4aac70c0f0de40cdb9bb816516"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>std</b> = .05</td></tr>
<tr class="separator:a8c705a4aac70c0f0de40cdb9bb816516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09f6fce94fafc627216b8a7529d39d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af09f6fce94fafc627216b8a7529d39d7"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>g</b> = [0]</td></tr>
<tr class="separator:af09f6fce94fafc627216b8a7529d39d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classposture_1_1_posture.html" title="Posture estimation based on accelerometer used as a compensated tilt sensor. ">Posture</a> estimation based on accelerometer used as a compensated tilt sensor. </p>
<p>The algoritm calculates the offset due to earth's gravity in the accelerometer axis, provided no other accelerations or forces affects the accelerometer.</p>
<p>The algorithm then determinates the tilt componsated with the estimated position of the gravity, to ensure the measurements are always equals in the coordinates of the accelerometer. </p>
<dl class="section author"><dt>Author</dt><dd>Sebastian Sepulveda </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaf817d25ff93679ced24d2786e0944e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def posture.Posture.compensatedTilt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compesated tilt. </p>
<p>Using the data generated by <a class="el" href="classposture_1_1_posture.html#aaf778c81f563ea4eae7a46227085fb2b">offset</a>, modifies axis values gatered so the tilt is always measured properly, based on this considerations:</p>
<ul>
<li>The earth's gravity is aligned with the z axis (axis pointing in direction of the earth's gravity)</li>
<li>The Y axis points to the front of the user</li>
<li>The X axis points to the right of the user</li>
</ul>
<p>With this considerations, the rest of the modifications based on the displacement of the earth's gravity are reorder to calculate the tilt alway in reference to the earth's gravity </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer. </td></tr>
    <tr><td class="paramname">x</td><td>Acceleration in the x axis, in g </td></tr>
    <tr><td class="paramname">y</td><td>Acceleration in the y axis, in g </td></tr>
    <tr><td class="paramname">z</td><td>Acceleration in the z axis, in g </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae8c17334701e824d29ede0fd6a8baa78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def posture.Posture.getTilt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the tilt values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer. </td></tr>
    <tr><td class="paramname">x</td><td>Acceleration in the x axis, in g </td></tr>
    <tr><td class="paramname">y</td><td>Acceleration in the y axis, in g </td></tr>
    <tr><td class="paramname">z</td><td>Acceleration in the z axis, in g </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list with 2 elements<ul>
<li><b>1st</b> Position show the tilt inclination.<ul>
<li><b>Positive</b> values means front inclination</li>
<li><b>Negative</b> values means backwards inclination</li>
</ul>
</li>
<li><b>2nd</b> Position show the tilt inclination.<ul>
<li><b>Positive</b> values means right inclination</li>
<li><b>Negative</b> values means left inclination </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a301e34481371c95c06434f89b2a6ad39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def posture.Posture.mean </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>list_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Average of a list of values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer. </td></tr>
    <tr><td class="paramname">list_</td><td>list with values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Average of the List </dd></dl>

</div>
</div>
<a class="anchor" id="a6548993924c0cbea896f6448d24491b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def posture.Posture.normalize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normalizes de values of the gravity. </p>
<p>Normalizes values in 3 ranges, using the std as desviation from the expected values </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer. </td></tr>
    <tr><td class="paramname">value</td><td>Value to be normalized </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized values<ul>
<li><b>1</b> if the gravity points in the direction of the axis</li>
<li><b>0</b> if the gravity was not detected in the axis</li>
<li><b>1</b> if the gravity points in the opposite direction of the axis </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aaf778c81f563ea4eae7a46227085fb2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def posture.Posture.offset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determinates the offset in the accelerometer. </p>
<p>When the accelerometer is static, it's readings should show the effect of the gravity in accelerometer (while it's inside the earth's gravitational force). Therefore, if no other force (normalized magnitud equal to 1 g) the direction of the gravity force could be estimated</p>
<p>An std value is defined for the desviation in the values acceptables </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer. </td></tr>
    <tr><td class="paramname">x</td><td>Acceleration in the x axis, in g </td></tr>
    <tr><td class="paramname">y</td><td>Acceleration in the y axis, in g </td></tr>
    <tr><td class="paramname">z</td><td>Acceleration in the z axis, in g </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9bc6d06a96d33b488094a295a4c3f4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def posture.Posture.resetBuffers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>IMUGraph/posture.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>posture</b></li><li class="navelem"><a class="el" href="classposture_1_1_posture.html">Posture</a></li>
    <li class="footer">Generated on Sun Jan 25 2015 10:31:51 for IMUGraph by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
