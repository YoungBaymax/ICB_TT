<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>IMUGraph: fallDetection.FallDetection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_uv_dox.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">IMUGraph
   </div>
   <div id="projectbrief">Adquisition with IMUs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfall_detection_1_1_fall_detection.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classfall_detection_1_1_fall_detection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fallDetection.FallDetection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Detects fall from the accelerometer data.  
 <a href="classfall_detection_1_1_fall_detection.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3bdf921ddeab54c9eb78231e64e3f8c1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a3bdf921ddeab54c9eb78231e64e3f8c1">__init__</a></td></tr>
<tr class="memdesc:a3bdf921ddeab54c9eb78231e64e3f8c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the Fall Detection algorithm.  <a href="#a3bdf921ddeab54c9eb78231e64e3f8c1">More...</a><br/></td></tr>
<tr class="separator:a3bdf921ddeab54c9eb78231e64e3f8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ae3cde72ec28563e117e16d9e0d962"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a47ae3cde72ec28563e117e16d9e0d962">normalVector</a></td></tr>
<tr class="memdesc:a47ae3cde72ec28563e117e16d9e0d962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates de normal vector of three vectors.  <a href="#a47ae3cde72ec28563e117e16d9e0d962">More...</a><br/></td></tr>
<tr class="separator:a47ae3cde72ec28563e117e16d9e0d962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3c9071e7a676843cdd968fef66bb56"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#aad3c9071e7a676843cdd968fef66bb56">search1LFT</a></td></tr>
<tr class="memdesc:aad3c9071e7a676843cdd968fef66bb56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the first lower value on a list.  <a href="#aad3c9071e7a676843cdd968fef66bb56">More...</a><br/></td></tr>
<tr class="separator:aad3c9071e7a676843cdd968fef66bb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d331e7cde45376a1ed81628f4fd37b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a15d331e7cde45376a1ed81628f4fd37b">search2LFT</a></td></tr>
<tr class="memdesc:a15d331e7cde45376a1ed81628f4fd37b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the first upper value on a list.  <a href="#a15d331e7cde45376a1ed81628f4fd37b">More...</a><br/></td></tr>
<tr class="separator:a15d331e7cde45376a1ed81628f4fd37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace430c2a9f1d9d20e5ef1794693a0895"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#ace430c2a9f1d9d20e5ef1794693a0895">updateFall</a></td></tr>
<tr class="memdesc:ace430c2a9f1d9d20e5ef1794693a0895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the Fall Detection algorithm with the last data.  <a href="#ace430c2a9f1d9d20e5ef1794693a0895">More...</a><br/></td></tr>
<tr class="separator:ace430c2a9f1d9d20e5ef1794693a0895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0563f1d15637964895896b45581bd267"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a0563f1d15637964895896b45581bd267">getFallStatus</a></td></tr>
<tr class="memdesc:a0563f1d15637964895896b45581bd267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the fall status obtained from the last update.  <a href="#a0563f1d15637964895896b45581bd267">More...</a><br/></td></tr>
<tr class="separator:a0563f1d15637964895896b45581bd267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9bad5034e22fa59b7f54f66c9d3c042"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#aa9bad5034e22fa59b7f54f66c9d3c042">getSemiFallStatus</a></td></tr>
<tr class="memdesc:aa9bad5034e22fa59b7f54f66c9d3c042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the semi fall status obtained from the last update.  <a href="#aa9bad5034e22fa59b7f54f66c9d3c042">More...</a><br/></td></tr>
<tr class="separator:aa9bad5034e22fa59b7f54f66c9d3c042"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a957affda8f3d78b80055b7ca0b3b3e48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a957affda8f3d78b80055b7ca0b3b3e48"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>UFT</b></td></tr>
<tr class="separator:a957affda8f3d78b80055b7ca0b3b3e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7839c4cad6c984c0b4086f1633bc13"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a7839c4cad6c984c0b4086f1633bc13"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LFT</b></td></tr>
<tr class="separator:a7a7839c4cad6c984c0b4086f1633bc13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8211460c1e22f409e204e4dd9e5843c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8211460c1e22f409e204e4dd9e5843c0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fs</b></td></tr>
<tr class="separator:a8211460c1e22f409e204e4dd9e5843c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c34ba457d991bc7d1bdafe95eb1d2d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c34ba457d991bc7d1bdafe95eb1d2d8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>POSITION</b></td></tr>
<tr class="separator:a9c34ba457d991bc7d1bdafe95eb1d2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aa99e61fc17e5b0a0e42c148be47ffdd5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#aa99e61fc17e5b0a0e42c148be47ffdd5">SIZE</a> = 1024</td></tr>
<tr class="memdesc:aa99e61fc17e5b0a0e42c148be47ffdd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for SV.  <a href="#aa99e61fc17e5b0a0e42c148be47ffdd5">More...</a><br/></td></tr>
<tr class="separator:aa99e61fc17e5b0a0e42c148be47ffdd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f4c16af8de8c4efaf6779c46ef5f48"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a34f4c16af8de8c4efaf6779c46ef5f48">UFT</a> = 2.8</td></tr>
<tr class="memdesc:a34f4c16af8de8c4efaf6779c46ef5f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upper force trigger.  <a href="#a34f4c16af8de8c4efaf6779c46ef5f48">More...</a><br/></td></tr>
<tr class="separator:a34f4c16af8de8c4efaf6779c46ef5f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32fb8ad5bc5820480e2eb450c679eeda"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a32fb8ad5bc5820480e2eb450c679eeda">LFT</a> = 0.65</td></tr>
<tr class="memdesc:a32fb8ad5bc5820480e2eb450c679eeda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower force trigger.  <a href="#a32fb8ad5bc5820480e2eb450c679eeda">More...</a><br/></td></tr>
<tr class="separator:a32fb8ad5bc5820480e2eb450c679eeda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf3abe0136fa5efe23df8f35228d4a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#aedf3abe0136fa5efe23df8f35228d4a6">fs</a> = .02</td></tr>
<tr class="memdesc:aedf3abe0136fa5efe23df8f35228d4a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time between samples.  <a href="#aedf3abe0136fa5efe23df8f35228d4a6">More...</a><br/></td></tr>
<tr class="separator:aedf3abe0136fa5efe23df8f35228d4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343631714c9cc3129eaa46abe5c5db82"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a343631714c9cc3129eaa46abe5c5db82">SV</a> = [0.0]</td></tr>
<tr class="memdesc:a343631714c9cc3129eaa46abe5c5db82"><td class="mdescLeft">&#160;</td><td class="mdescRight">List for SV values.  <a href="#a343631714c9cc3129eaa46abe5c5db82">More...</a><br/></td></tr>
<tr class="separator:a343631714c9cc3129eaa46abe5c5db82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb95520ce608393fd378aed70293199"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addb95520ce608393fd378aed70293199"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#addb95520ce608393fd378aed70293199">YAW</a> = [.0]</td></tr>
<tr class="memdesc:addb95520ce608393fd378aed70293199"><td class="mdescLeft">&#160;</td><td class="mdescRight">List for angles monitoring posture. <br/></td></tr>
<tr class="separator:addb95520ce608393fd378aed70293199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fba49d5c83db3cc9032ede9c7d3ff8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9fba49d5c83db3cc9032ede9c7d3ff8"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>PITCH</b> = [.0]</td></tr>
<tr class="separator:aa9fba49d5c83db3cc9032ede9c7d3ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa44f488c9296cf9c27f037ae246d1649"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa44f488c9296cf9c27f037ae246d1649"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>ROLL</b> = [.0]</td></tr>
<tr class="separator:aa44f488c9296cf9c27f037ae246d1649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529e246a5c2c87bdb5c6426abeeb8dfb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a529e246a5c2c87bdb5c6426abeeb8dfb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#a529e246a5c2c87bdb5c6426abeeb8dfb">POSITION</a> = 0</td></tr>
<tr class="memdesc:a529e246a5c2c87bdb5c6426abeeb8dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates for the buffers index. <br/></td></tr>
<tr class="separator:a529e246a5c2c87bdb5c6426abeeb8dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9560adcae4144df3ba9a753c920060"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfall_detection_1_1_fall_detection.html#afa9560adcae4144df3ba9a753c920060">DROP</a> = False</td></tr>
<tr class="memdesc:afa9560adcae4144df3ba9a753c920060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if a fall was detected.  <a href="#afa9560adcae4144df3ba9a753c920060">More...</a><br/></td></tr>
<tr class="separator:afa9560adcae4144df3ba9a753c920060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6eb7f362620d5992fc5d6ab4d5880b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d6eb7f362620d5992fc5d6ab4d5880b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SEMIDROP</b> = False</td></tr>
<tr class="separator:a2d6eb7f362620d5992fc5d6ab4d5880b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Detects fall from the accelerometer data. </p>
<p>Using an accelerometer calculates:</p>
<ul>
<li>Impact normalized force (SV) and impact ranges (UFT, LFT)</li>
<li>Detectes a range of time during the detected impact (tm, ti)</li>
<li>Determinates the speed of the fall during the fallind time (V0)</li>
<li>Detect the posture (change in orientation) respect the initial impact posture. With all these data and determinations is possible to estimate with presition a fall and impact.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Dr. Pablo Reyes </dd>
<dd>
Sebastian Sepulveda </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Validate algorithms </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3bdf921ddeab54c9eb78231e64e3f8c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fs</em> = <code>.02</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>UFT</em> = <code>2.8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LFT</em> = <code>.65</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the Fall Detection algorithm. </p>
<p>Initializes the values of fs, UFT and LFT allowing to change the default values of the algorithms </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">fs</td><td>Time between samples, in seconds </td></tr>
    <tr><td class="paramname">UFT</td><td>UFT trigger, in g (gravities) </td></tr>
    <tr><td class="paramname">LFT</td><td>LFT trigger, in g (gravities) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0563f1d15637964895896b45581bd267"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.getFallStatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the fall status obtained from the last update. </p>
<p>Return the result of the Fall Detection algorithm from the last <a class="el" href="classfall_detection_1_1_fall_detection.html#ace430c2a9f1d9d20e5ef1794693a0895">updateFall</a> call. </p>
<dl class="section return"><dt>Returns</dt><dd>Status of the fall<ul>
<li><b>TRUE</b> : if a fall was detected</li>
<li><b>FALSE</b> : if a fall wasn't detected </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aa9bad5034e22fa59b7f54f66c9d3c042"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.getSemiFallStatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the semi fall status obtained from the last update. </p>
<p>Return the result of the Fall Detection algorithm from the last <a class="el" href="classfall_detection_1_1_fall_detection.html#ace430c2a9f1d9d20e5ef1794693a0895">updateFall</a> call before checking the posture </p>
<dl class="section return"><dt>Returns</dt><dd>Status of the semi fall<ul>
<li><b>TRUE</b> : if a semi fall was detected</li>
<li><b>FALSE</b> : if a semi fall wasn't detected </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a47ae3cde72ec28563e117e16d9e0d962"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.normalVector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates de normal vector of three vectors. </p>
<p>Uses the math library from Python </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The objetc pointer </td></tr>
    <tr><td class="paramname">x</td><td>1st value to normalize </td></tr>
    <tr><td class="paramname">y</td><td>2nd value to normalize </td></tr>
    <tr><td class="paramname">z</td><td>3rd value to normalize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Normalized value of x,y and z </dd></dl>

</div>
</div>
<a class="anchor" id="aad3c9071e7a676843cdd968fef66bb56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.search1LFT </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the first lower value on a list. </p>
<p>Finds the first lower value of LFT on a list </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The objetc pointer </td></tr>
    <tr><td class="paramname">value</td><td>The value to find in the list </td></tr>
    <tr><td class="paramname">vector</td><td>The list to find on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index where the value (or 1st lower) was found </dd></dl>

</div>
</div>
<a class="anchor" id="a15d331e7cde45376a1ed81628f4fd37b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.search2LFT </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the first upper value on a list. </p>
<p>Finds the first upper value of LFT on a list </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The objetc pointer </td></tr>
    <tr><td class="paramname">value</td><td>The value to find in the list </td></tr>
    <tr><td class="paramname">vector</td><td>The list to find on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index where the value (or 1st upper) was found </dd></dl>

</div>
</div>
<a class="anchor" id="ace430c2a9f1d9d20e5ef1794693a0895"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fallDetection.FallDetection.updateFall </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>yaw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>roll</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the Fall Detection algorithm with the last data. </p>
<p>The function searches for a SV in between the impact range, a fall speed between the time corresponding the impact and the posture when a fall is detected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The objetc pointer </td></tr>
    <tr><td class="paramname">x</td><td>acceleration in X axis, in g (gravities) </td></tr>
    <tr><td class="paramname">y</td><td>acceleration in Y axis, in g (gravities) </td></tr>
    <tr><td class="paramname">z</td><td>acceleration in Z axis, in g (gravities)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The algorithm proposed sugest to filter the adquired data with a lowpass 1st order butterworth at 100 Hz. The data adquired from the MPU-9150 (or even ADXL-345) digital accelerometers can (and is) configured to filter the data and outputs filtered raw data. Therefore, this filter is not implemented. </dd>
<dd>
The algorithm has been implemented asumming a sensor fusion running continusly for obtaining yaw, pitch, roll. The class stores the data in a buffer for look back at the posture. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afa9560adcae4144df3ba9a753c920060"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fallDetection.FallDetection.DROP = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if a fall was detected. </p>
<ul>
<li>if <b>TRUE:</b> a fall was detected</li>
<li>if <b>FALL:</b> a fall wasn't detected </li>
</ul>

</div>
</div>
<a class="anchor" id="aedf3abe0136fa5efe23df8f35228d4a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int fallDetection.FallDetection.fs = .02</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time between samples. </p>
<p>Time between samples, in seconds </p>

</div>
</div>
<a class="anchor" id="a32fb8ad5bc5820480e2eb450c679eeda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float fallDetection.FallDetection.LFT = 0.65</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lower force trigger. </p>
<p>Lower force trigger for detecting the start of the impact, in g (gravities) </p>

</div>
</div>
<a class="anchor" id="aa99e61fc17e5b0a0e42c148be47ffdd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int fallDetection.FallDetection.SIZE = 1024</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer size for SV. </p>
<p>Determinate the buffer size for storing the SV data </p>

</div>
</div>
<a class="anchor" id="a343631714c9cc3129eaa46abe5c5db82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list fallDetection.FallDetection.SV = [0.0]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List for SV values. </p>
<p>Stores the last SV values </p>

</div>
</div>
<a class="anchor" id="a34f4c16af8de8c4efaf6779c46ef5f48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float fallDetection.FallDetection.UFT = 2.8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upper force trigger. </p>
<p>Upper force trigger for detecting an impact, in g (gravities) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>IMUGraph/fallDetection.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>fallDetection</b></li><li class="navelem"><a class="el" href="classfall_detection_1_1_fall_detection.html">FallDetection</a></li>
    <li class="footer">Generated on Sun Jan 25 2015 10:31:51 for IMUGraph by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
